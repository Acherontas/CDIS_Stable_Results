#include "of_numbers.h"
#include <iomanip>
#include "math.h"
#include "sum_cdi.h"
using namespace std;
//ctor
of_numbers::of_numbers(){}
//dtor
of_numbers::~of_numbers(){}
//copy ctor
of_numbers::of_numbers(const of_numbers& other){}
// handle self assignment//assignment operator
of_numbers& of_numbers::operator=(const of_numbers& rhs){if (this == &rhs) return *this; return *this;}

int of_numbers::x_calc(){
    sum_cdi *smcdi = new sum_cdi();
    for(int i=0;i<10;i++){
        main_number=mns[i];
        if(log==1){cout<<"using rpti " << rpti <<" with " << mns[i] <<"\n";}
        rpt[rpti]=main_number;
        if(main_number>0){
        first_sum=smcdi->cdis(main_number,3);
        if(log==1){cout<<"of " <<std::setprecision(preci) << main_number << " sum of digits ::== " << std::setprecision(preci) << first_sum <<"\n";}
        rpcd[rpti]=first_sum;
        long double rst_o;
        long double rst_tw;
        long double rst_th;
        rst_o=(long double) main_number / (long double) first_sum ;
        if(log==1){cout<<"of " << std::setprecision(preci) << main_number << " / " << std::setprecision(preci) << first_sum << " ::== " << std::setprecision(preci) << rst_o <<"\n";}
        rprs_o[rpti]=rst_o;
        rst_tw=(long double) main_number * (long double) first_sum;
        if(log==1){cout<<"of " << std::setprecision(preci) << main_number << " * " << std::setprecision(preci) << first_sum << " ::== " << std::setprecision(preci) << rst_tw <<"\n";}
        rprs_t[rpti]=rst_tw;
        rst_th=(long double)rst_tw / (long double) rst_o;
        if(log==1){cout<<"of " << std::setprecision(preci) << rst_tw << " / " << std::setprecision(preci) << rst_o << " ::== " << std::setprecision(preci) << rst_th <<"\n";}
        rpfs[rpti]=rst_th;
        if(log==1){
        cout<<rpt[rpti] << " " << rpcd[rpti] << " " << rprs_o[rpti] << " " << rprs_t[rpti] << " " << rpfs[rpti] <<"\n";
        }
        rpti+=1;
        }
        }
        return 0;
}

int of_numbers::x_show(){
    cout<< " values of main_number sum_of_digit  main_number/sod  main_number*sod  result1/result2  sqrt_of_results\n";
   for(int i=0;i<10;i++)
   {
    cout<<"  -------> "<< std::setprecision(preci) << rpt[i] <<" ";
    cout<< std::setprecision(preci) << rpcd[i] <<" ";
    cout<< std::setprecision(preci) << rprs_o[i] <<" ";
    cout<< std::setprecision(preci) << rprs_t[i] <<" ";
    cout<< std::setprecision(preci) << rpfs[i] <<" ";
    sqti=sqrt(rpfs[i]);
    cout<< std::setprecision(preci) << sqti <<" \n";
   }
   return 0;
}

int of_numbers::x_sqrt(){
   long double xsq=rpfs[0];
   long double stbl=4;
   long double pvt=0.1;
   long double rstix;
   long double prw;
   for(;;)
   {
     rstix=(long double) xsq / (long double) stbl;
     cout<<"of " << std::setprecision(preci) << xsq << " / " << std::setprecision(preci) << stbl << " ::== " << rstix <<"\n";
     prw=rstix*rstix;
     cout<<"with " << rstix << " * " << rstix << " ::== " <<std::setprecision(preci) << prw <<"\n";
     stbl=stbl+pvt;
     if(stbl>6 ){break;}
     (i)
   }
   return 0;
}
